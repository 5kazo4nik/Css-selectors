(()=>{"use strict";function e(e){var t=e.target,n=document.querySelector(".burger"),s=document.querySelector(".progress");t instanceof Element&&n&&s&&(t.closest(".burger")&&function(e,t){e.classList.toggle("burger_active"),t.classList.toggle("progress_active")}(n,s),(t.closest(".level")||t.closest("main")||t.closest(".progress__reset"))&&function(e,t){e.classList.remove("burger_active"),t.classList.remove("progress_active")}(n,s))}var t,n,s={0:{item:[{tag:"board",status:["move"],textOpen:"<board />"},{tag:"board",status:["move"],textOpen:"<board />"}],answer:"board"},1:{item:[{tag:"dish",textOpen:"<dish />"},{tag:"board",innerItem:[{tag:"dish",status:["move"],id:"fancy",textOpen:'<dish id="fancy" />'}],textOpen:"<board>",textClose:"</board>"}],answer:"#fancy"},2:{item:[{tag:"dish",textOpen:'<dish">',textClose:"</dish>",innerItem:[{tag:"coconut",status:["move"],textOpen:"<coconut />"}]},{tag:"board",textOpen:"<board>",textClose:"</board>",innerItem:[{tag:"coconut",textOpen:"<coconut />"}]},{tag:"zucchini",textOpen:"<zucchini />"}],answer:"dish coconut"},3:{item:[{tag:"board",textOpen:"<board />"},{tag:"dish",id:"fancy",innerItem:[{tag:"peper",status:["move"],textOpen:"<peper />"}],textOpen:'<dish id="fancy">',textClose:"</dish>"},{tag:"dish",innerItem:[{tag:"peper",textOpen:"<peper />"}],textOpen:"<dish>",textClose:"</dish>"},{tag:"zucchini",textOpen:"<zucchini />"}],answer:"#fancy peper"},4:{item:[{tag:"board",innerItem:[{tag:"zucchini",textOpen:"<zucchini />"}],textOpen:"<board>",textClose:"</board>"},{tag:"dish",id:"fancy",innerItem:[{tag:"zucchini",status:["move","small"],textOpen:'<zucchini class="small" />'}],textOpen:'<dish id="fancy">',textClose:"</dish>"},{tag:"dish",innerItem:[{tag:"zucchini",textOpen:"</zucchini>"}],textOpen:"<dish>",textClose:"</dish>"},{tag:"dish",innerItem:[{tag:"zucchini",status:["move","small"],textOpen:'<zucchini class="small" />'}],textOpen:"<dish>",textClose:"</dish>"}],answer:".small"},5:{item:[{tag:"coconut",textOpen:"<coconut />"},{tag:"peper",status:["small"],textOpen:'<peper class="small" />'},{tag:"dish",id:"fancy",innerItem:[{tag:"coconut",status:["move","small"],textOpen:'<coconut class="small" />'}],textOpen:'<dish id="fancy">',textClose:"</dish>"},{tag:"dish",innerItem:[{tag:"coconut",status:["small"],textOpen:'<coconut class="small" />'}],textOpen:"<dish>",textClose:"</dish>"}],answer:"#fancy .small"},6:{item:[{tag:"dish",innerItem:[{tag:"coconut",status:["small"],textOpen:'<coconut class="small" />'}],textOpen:"<dish>",textClose:"</dish>"},{tag:"zucchini",textOpen:"<zucchini />"},{tag:"zucchini",status:["move","small"],textOpen:'<zucchini class="small" />'},{tag:"dish",innerItem:[{tag:"zucchini",textOpen:"<zucchini />"}],textOpen:"<dish>",textClose:"</dish>"},{tag:"board",textOpen:"<board>",textClose:"</board>",innerItem:[{tag:"dish",textOpen:"<dish>",textClose:"</dish>",innerItem:[{tag:"zucchini",status:["move","small"],textOpen:'<zucchini class="small" />'}]}]}],answer:"zucchini.small"},7:{item:[{tag:"board",status:["move"],textOpen:'<board class="move">',textClose:"</board>",innerItem:[{tag:"peper",textOpen:"<peper />"}]},{tag:"peper",status:["small"],textOpen:'<peper class="small" />'},{tag:"dish",id:"fancy",innerItem:[{tag:"zucchini",status:["small"],textOpen:'<zucchini class="small" />'}],textOpen:'<dish id="fancy">',textClose:"</dish>"},{tag:"dish",innerItem:[{tag:"zucchini",textOpen:"<zucchini />"}],textOpen:"<dish>",textClose:"</dish>"},{tag:"coconut",status:["move"],textOpen:"<coconut>"},{tag:"dish",textOpen:"<dish>",textClose:"</dish>",innerItem:[{tag:"coconut",status:["small","move"],textOpen:'<coconut class="small" />'}]}],answer:"board, coconut"},8:{item:[{tag:"zucchini",status:["small","move"],textOpen:'<zucchini class="small" />'},{tag:"dish",id:"fancy",status:["move"],textOpen:'<dish id="fancy" />'},{tag:"board",status:["move"],innerItem:[{tag:"dish",status:["move"],textOpen:"<dish>",textClose:"<dish/>",innerItem:[{tag:"peper",status:["move"],textOpen:"<peper/>"}]}],textOpen:"<board>",textClose:"</board>"},{tag:"dish",status:["move"],innerItem:[{tag:"coconut",status:["move","small"],textOpen:'<coconut class="small" />'},{tag:"coconut",status:["move","small"],textOpen:'<coconut class="small" />'}],textOpen:"<dish>",textClose:"</dish>"},{tag:"dish",status:["move"],textOpen:"<dish />"},{tag:"coconut",status:["move"],textOpen:"<coconut />"},{tag:"zucchini",status:["move"],textOpen:"<zucchini />"}],answer:"*"},9:{item:[{tag:"board",innerItem:[{tag:"peper",status:["small"],textOpen:'<peper class="small" />'}],textOpen:"<board>",textClose:"</board>"},{tag:"zucchini",status:["move"],textOpen:"<zucchini />"},{tag:"dish",textOpen:"<dish>",textClose:"</dish>",innerItem:[{tag:"zucchini",textOpen:"<zucchini />"}]},{tag:"board",innerItem:[{tag:"dish",textOpen:"<dish />"}],textOpen:"<board>",textClose:"</board>"},{tag:"coconut",status:["move"],textOpen:"<coconut />"}],answer:"board + *"},10:{item:[{tag:"dish",id:"fancy",innerItem:[{tag:"peper",textOpen:"<peper />"}],textOpen:'<dish id="fancy">',textClose:"</dish>"},{tag:"board",innerItem:[{tag:"zucchini",textOpen:"<zucchini />"}],textOpen:"<board>",textClose:"</board>"},{tag:"peper",status:["small","move"],textOpen:'<peper class="small" />'},{tag:"dish",innerItem:[{tag:"peper",textOpen:"<peper />"}],textOpen:"<dish>",textClose:"</dish>"},{tag:"peper",status:["move"],textOpen:"<peper />"}],answer:"board ~ peper"},11:{item:[{tag:"board",innerItem:[{tag:"dish",textOpen:"<dish>",textClose:"</dish>",innerItem:[{tag:"coconut",status:["move"],textOpen:"<coconut />"}]}],textOpen:"<board>",textClose:"</board>"},{tag:"dish",textOpen:"<dish>",textClose:"</dish>"},{tag:"coconut",status:["small"],textOpen:'<coconut class="small" />'},{tag:"coconut",textOpen:"<coconut />"},{tag:"dish",textOpen:"<dish>",textClose:"<dish/>",innerItem:[{tag:"coconut",status:["move","small"],textOpen:"<coconut />"}]},{tag:"board",textOpen:"<board>",textClose:"<board/>",innerItem:[{tag:"coconut",textOpen:"<coconut />"}]}],answer:"dish > coconut"},12:{item:[{tag:"zucchini",textOpen:"<zucchini />"},{tag:"board",innerItem:[{tag:"coconut",status:["move"],textOpen:"<coconut />"},{tag:"coconut",textOpen:"<coconut />"},{tag:"coconut",textOpen:"<coconut />"}],textOpen:"<board>",textClose:"</board>"},{tag:"peper",status:["small"],textOpen:'<peper class="small" />'},{tag:"coconut",textOpen:"<coconut />"},{tag:"dish",innerItem:[{tag:"coconut",status:["small","move"],textOpen:'<coconut class="small" />'},{tag:"coconut",status:["small"],textOpen:'<coconut class="small" />'}],textOpen:"<dish>",textClose:"</dish>"},{tag:"dish",id:"fancy",textOpen:'<dish id="fancy">',textClose:"</dish>",innerItem:[{tag:"coconut",status:["small","move"],textOpen:'<coconut class="small" />'},{tag:"coconut",status:["small"],textOpen:'<coconut class="small" />'},{tag:"coconut",status:["small"],textOpen:'<coconut class="small" />'}]}],answer:"board coconut:first-child, dish coconut:first-child"},13:{item:[{tag:"dish",textOpen:"<dish>",textClose:"</dish>",innerItem:[{tag:"zucchini",textOpen:"<zucchini />"}]},{tag:"dish",id:"fancy",textOpen:'<dish id="fancy">',textClose:"</dish>",innerItem:[{tag:"coconut",status:["move","small"],textOpen:'<coconut class="small" />'}]},{tag:"dish",id:"fancy",textOpen:"<dish>",textClose:"</dish>",innerItem:[{tag:"coconut",textOpen:"<coconut />"},{tag:"coconut",textOpen:"<coconut />"}]},{tag:"dish",id:"fancy",textOpen:'<dish id="fancy">',textClose:"</dish>",innerItem:[{tag:"zucchini",status:["move"],textOpen:"<zucchini />"}]},{tag:"dish",textOpen:"<dish>",textClose:"</dish>",innerItem:[{tag:"coconut",textOpen:"<coconut />"}]}],answer:"#fancy *:only-child"},14:{item:[{tag:"peper",textOpen:"<peper />"},{tag:"dish",textOpen:"<dish>",textClose:"</dish>",innerItem:[{tag:"peper",status:["move","small"],textOpen:"<coconut />"}]},{tag:"board",textOpen:"<board>",textClose:"</board>",innerItem:[{tag:"coconut",textOpen:"<coconut />"},{tag:"coconut",status:["move"],textOpen:"<coconut />"}]},{tag:"peper",textOpen:"<peper />"},{tag:"dish",id:"fancy",status:["move"],textOpen:'<dish id="fancy">',textClose:"</dish>",innerItem:[{tag:"zucchini",status:["move"],textOpen:"<zucchini />"}]}],answer:"*:last-child"}},i=function(){},o=(t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},t(e,n)},function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function s(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}),r=function(e){function t(t){var n=e.call(this)||this;return n.item=t,n.code=document.createElement("div"),n.buildElement(),n}return o(t,e),t.prototype.buildElement=function(){this.addStatus(),this.appendElem(this.code)},t.prototype.addStatus=function(){var e=t.getHighlitedCode("".concat(this.item.textOpen,"\n"));this.code.append(e)},t.prototype.appendElem=function(e){var n,s=(n=this.item).innerItem,i=n.textClose;if(s&&i){t.createInnerElements(e,s);var o=t.getHighlitedCode("\n".concat(i));e.append(o)}},t.createInnerElements=function(e,n){n.forEach((function(n){var s=new t(n).getElement();t.elementsArr.push(s),e.append(s)}))},t.appendInnerElements=function(e,n){var s=document.createElement("div");s.classList.add("field__layout");var i=t.getHighlitedCode('<div class="table>\n');s.append(i),t.createInnerElements(s,n);var o=t.getHighlitedCode("</div>");s.append(o),e.append(s)},t.getHighlitedCode=function(e){var t=document.createElement("code");return t.append(e),t.classList.add("prettyprint"),t},t.prototype.getElement=function(){return this.code},t.getElementsArr=function(){return t.elementsArr},t.resetElemetsArr=function(){t.elementsArr=[]},t.elementsArr=[],t}(i),c=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function s(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(s.prototype=n.prototype,new s)}}(),a=function(e){function t(t){var n=e.call(this)||this;return n.item=t,n.element=document.createElement(n.item.tag),n.buildElement(),n}return c(t,e),t.prototype.buildElement=function(){this.element=this.addStatus(this.element);var e=this.item.id;e&&(this.element.id=e),this.appendElem()},t.prototype.addStatus=function(e){var t=this.item.status;return t&&t.forEach((function(t){return e.classList.add(t)})),e},t.prototype.appendElem=function(){var e=this.item.innerItem;e&&t.appendInnerElements(this.element,e)},t.appendInnerElements=function(e,n){n.forEach((function(n){var s=new t(n).getElement();t.elementsArr.push(s),e.append(s)}))},t.prototype.getElement=function(){return this.element},t.getElementsArr=function(){return t.elementsArr},t.resetElemetsArr=function(){t.elementsArr=[]},t.elementsArr=[],t}(i),l=function(){function e(e,t){this.tableElements=e,this.codeElements=t,this.bindEvents()}return e.prototype.bindEvents=function(){document.addEventListener("mouseover",this.hoverListner.bind(this))},e.prototype.hoverListner=function(t){var n;t.relatedTarget instanceof Element&&(t.relatedTarget.closest(".field__layout")?(n=t.relatedTarget.closest("div"))&&this.setRelatedHover(n,e.removeHover):this.setRelatedHover(t.relatedTarget,e.removeHover));t.target instanceof Element&&(t.target.closest(".field__layout")?(n=t.target.closest("div"))&&this.setRelatedHover(n,e.setHover):this.setRelatedHover(t.target,e.setHover))},e.prototype.setRelatedHover=function(t,n){var s=this.defineIndex(t);if("number"==typeof s){var i=this.getRelatedElems(s),o=i[0],r=e.getTextNodes(i[1]);r&&o instanceof HTMLElement&&n(i,o,r)}},e.getTextNodes=function(e){return Array.from(e.children).filter((function(e){return"CODE"===e.tagName})).reduce((function(e,t){return e+Array.from(t.children).reduce((function(e,t){return e+t.textContent}),"")}),"")},e.prototype.defineIndex=function(e){var t;return this.tableElements.includes(e)&&(t=this.tableElements.indexOf(e)),this.codeElements.includes(e)&&(t=this.codeElements.indexOf(e)),t},e.prototype.getRelatedElems=function(e){var t=[];return t.push(this.tableElements[e]),t.push(this.codeElements[e]),t},e.setHover=function(t,n,s){e.setHelper(n,s),t.forEach((function(e){return e.classList.add("hovered")}))},e.removeHover=function(t){e.removeHelper(),t.forEach((function(e){return e.classList.remove("hovered")}))},e.setHelper=function(e,t){var n=document.querySelector(".helper");if(n instanceof HTMLElement){var s=e.getBoundingClientRect(),i=s.left,o=s.top,r=e.clientWidth/2;n.style.left="".concat(i+r,"px"),n.style.top="".concat(o-60,"px"),n.textContent=t,n.style.display="block"}},e.removeHelper=function(){var e=document.querySelector(".helper");e instanceof HTMLElement&&(e.style.display="none")},e.prototype.updateTableElems=function(e){this.tableElements=e},e.prototype.updateCodeElems=function(e){this.codeElements=e},e}();!function(e){e.HEAD="Congratulations!",e.TEXT="You have completed all the tasks"}(n||(n={}));var u=function(){function e(){this.levels=s,this.curLevel=Number(localStorage.getItem("curLevel"))||0,this.levelElements=Array.from(document.querySelectorAll(".level")),this.HoveredView=new l([],[]),this.buildLevel(),this.bindEvents()}return e.prototype.buildLevel=function(){e.setHighlightScript();var t=document.querySelector(".table__surface");t&&(e.resetLvl(t,a.resetElemetsArr),a.appendInnerElements(t,this.levels[this.curLevel].item),this.HoveredView.updateTableElems(a.getElementsArr()));var n=document.querySelector(".field__view");n&&(e.resetLvl(n,r.resetElemetsArr),r.appendInnerElements(n,this.levels[this.curLevel].item),this.HoveredView.updateCodeElems(r.getElementsArr())),this.setCurLevelStyle()},e.prototype.bindEvents=function(){document.addEventListener("click",this.clickListner.bind(this)),window.addEventListener("beforeunload",this.saveLevel.bind(this))},e.setHighlightScript=function(){var e=document.querySelector(".light-script");e&&e.remove();var t=document.createElement("script");t.classList.add(".light-script"),t.src="https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/run_prettify.js?skin=sons-of-obsidian",document.body.append(t)},e.prototype.setCurLevel=function(e){void 0===e&&(e=this.curLevel+1);var t=this.levelElements.length-1;this.curLevel=e>t?t:e,this.buildLevel()},e.prototype.getCurLevel=function(){return this.curLevel},e.prototype.getLevelsList=function(){return this.levelElements},e.prototype.clickListner=function(e){if(e.target instanceof Element&&e.target.classList.contains("level")){var t=this.levelElements.indexOf(e.target);this.setCurLevel(t)}},e.prototype.setCurLevelStyle=function(){this.levelElements.forEach((function(e){e.classList.remove("level_current")})),this.levelElements[this.curLevel].classList.add("level_current")},e.prototype.saveLevel=function(){localStorage.setItem("curLevel",String(this.curLevel))},e.resetLvl=function(e,t){e.innerHTML="",t()},e.finishGame=function(){var e=document.querySelector(".table__surface");if(e){e.innerHTML="";var t=document.createElement("div");t.classList.add("winner");var s=document.createElement("div"),i=document.createElement("div");s.textContent=n.HEAD,i.textContent=n.TEXT,t.append(s,i),e.append(t)}},e}(),p=function(){function e(t,n){this.levelView=t,this.inputHightlight=n,this.inputView=document.querySelector(".input-view"),this.inputBtn=document.querySelector(".field__btn"),this.completedLevels=e.initLevel("completedLevels"),this.helpedLevels=e.initLevel("helpedLevels"),this.setLevelsStatus(),this.bindEvents()}return e.initLevel=function(e){var t=localStorage.getItem(e);return t?JSON.parse(t):[]},e.prototype.bindEvents=function(){var t=this,n=document.querySelector(".field__input");this.inputBtn&&this.inputBtn.addEventListener("click",this.submitListner.bind(this)),n&&n.addEventListener("keydown",(function(e){e instanceof KeyboardEvent&&"Enter"===e.code&&(e.preventDefault(),t.submitListner.bind(t)())})),n instanceof HTMLTextAreaElement&&this.inputView&&(this.inputView.addEventListener("mouseup",(function(){e.focusInput.bind(t,n)()})),n.addEventListener("input",(function(){e.resizeInput(n)}))),window.addEventListener("beforeunload",this.saveLevels.bind(this))},e.prototype.submitListner=function(){var t=document.querySelector(".field__input");if(t instanceof HTMLTextAreaElement){var n=t.value,s=this.defineWinOrLoseSelector(n),i=this.checkGameFinish();s&&(t.value="",this.inputHightlight.uncolorText(),e.resizeInput(t),i&&setTimeout((function(){u.finishGame()}),1e3)),this.inputBtn&&e.setAnimationTimeout(this.inputBtn,"enter",100)}},e.prototype.defineWinOrLoseSelector=function(t){var n=document.querySelector(".table__surface");if(!n)return!1;if(t.includes(".move"))return this.addLoseAnimation([]),!1;var s=e.getExistElem(t,n),i=e.checkTrueSelector(s,n);return s.length&&i?(this.switchLevelAfterWin(s),!0):(this.addLoseAnimation(s),!1)},e.prototype.switchLevelAfterWin=function(t){var n=this,s=this.levelView.getCurLevel();this.levelView.getLevelsList()[s].classList.add("level_completed"),e.setAnimationTimeout(t,"clean",1e3),this.completedLevels.push(s);var i=new Set(this.completedLevels);this.completedLevels=Array.from(i),setTimeout((function(){n.levelView.setCurLevel()}),1e3)},e.prototype.addLoseAnimation=function(t){t.length?e.setAnimationTimeout(t,"shake",500):this.inputView&&e.setAnimationTimeout(this.inputView,"shake",500)},e.setAnimationTimeout=function(e,t,n){e instanceof Array?(e.forEach((function(e){return e.classList.add(t)})),setTimeout((function(){return e.forEach((function(e){return e.classList.remove(t)}))}),n)):(e.classList.add(t),setTimeout((function(){return e.classList.remove(t)}),n))},e.checkTrueSelector=function(e,t){var n=e.every((function(e){return e.classList.contains("move")}));return t.querySelectorAll(".move").length===e.length&&n},e.getExistElem=function(e,t){if(!e)return[];try{return Array.from(t.querySelectorAll(e))}catch(e){return[]}},e.prototype.setLevelsStatus=function(){var e=this.levelView.getLevelsList();this.completedLevels.forEach((function(t){return e[t].classList.add("level_completed")})),this.helpedLevels.forEach((function(t){return e[t].classList.add("level_helped")}))},e.prototype.saveLevels=function(){var e=JSON.stringify(this.completedLevels);localStorage.setItem("completedLevels",e);var t=JSON.stringify(this.helpedLevels);localStorage.setItem("helpedLevels",t)},e.prototype.checkGameFinish=function(){return this.levelView.getLevelsList().length===this.completedLevels.length},e.prototype.resetLevels=function(){this.levelView.getLevelsList().forEach((function(e){e.classList.remove("level_completed"),e.classList.remove("level_helped")})),this.completedLevels=[],this.helpedLevels=[]},e.prototype.addHelpedLevel=function(e){this.helpedLevels.push(e);var t=new Set(this.helpedLevels);this.helpedLevels=Array.from(t);var n=this.levelView.getLevelsList();this.helpedLevels.forEach((function(e){return n[e].classList.add("level_helped")}))},e.resizeInput=function(e){var t=e;t.style.height="21px",t.style.height="".concat(e.scrollHeight,"px")},e.focusInput=function(e){e.focus()},e}(),d=function(e,t,n,s){return new(n||(n=Promise))((function(i,o){function r(e){try{a(s.next(e))}catch(e){o(e)}}function c(e){try{a(s.throw(e))}catch(e){o(e)}}function a(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(r,c)}a((s=s.apply(e,t||[])).next())}))},h=function(e,t){var n,s,i,o,r={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(c){return function(a){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(r=0)),r;)try{if(n=1,s&&(i=2&c[0]?s.return:c[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,c[1])).done)return i;switch(s=0,i&&(c=[2&c[0],i.value]),c[0]){case 0:case 1:i=c;break;case 4:return r.label++,{value:c[1],done:!1};case 5:r.label++,s=c[1],c=[0];continue;case 7:c=r.ops.pop(),r.trys.pop();continue;default:if(!(i=r.trys,(i=i.length>0&&i[i.length-1])||6!==c[0]&&2!==c[0])){r=0;continue}if(3===c[0]&&(!i||c[1]>i[0]&&c[1]<i[3])){r.label=c[1];break}if(6===c[0]&&r.label<i[1]){r.label=i[1],i=c;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(c);break}i[2]&&r.ops.pop(),r.trys.pop();continue}c=t.call(e,r)}catch(e){c=[6,e],s=0}finally{n=i=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,a])}}},m=function(){function e(e,t,n){this.levelViewer=e,this.inputEnter=t,this.inputHightlight=n,this.helpBtn=document.querySelector(".help-btn"),this.input=document.querySelector(".field__input")}return e.prototype.bindEvents=function(){this.helpBtn&&this.helpBtn.addEventListener("click",this.setTrueSelector.bind(this))},e.prototype.setTrueSelector=function(){return d(this,void 0,void 0,(function(){var e,t,n,i,o,r,c=this;return h(this,(function(a){return(e=this.input)instanceof HTMLTextAreaElement?(e.value="",t=this.levelViewer.getCurLevel(),n=s[t].answer,i=n.split(""),o=0,e.disabled=!0,(r=function(){o>=i.length-1&&(e.disabled=!1,p.focusInput(e)),o>=i.length||(e.value+=i[o],(o+=1)<i.length&&setTimeout(r,100),p.resizeInput(e),c.inputHightlight.colorText())})(),this.inputEnter.addHelpedLevel(t),[2]):[2]}))}))},e}(),v=function(){function e(){this.input=document.querySelector(".field__input"),this.coloredInput=document.querySelector(".field__colored-input"),this.bindEvents()}return e.prototype.bindEvents=function(){this.input&&this.input.addEventListener("input",this.colorText.bind(this))},e.prototype.colorText=function(){if(this.input instanceof HTMLTextAreaElement&&this.coloredInput){var e=this.input.value,t="",n=e.split(/([[.# ])/);n.forEach((function(e,s){"#"===e?t+='<span class="id-selector">'.concat(e,"</span>"):"."===e?t+='<span class="class-selector">'.concat(e,"</span>"):"["===e?t+='<span class="attr-selector">'.concat(e,"</span>"):"#"===n[s-1]?t+='<span class="id-selector">'.concat(e,"</span>"):"."===n[s-1]?t+='<span class="class-selector">'.concat(e,"</span>"):"["===n[s-1]?t+='<span class="attr-selector">'.concat(e,"</span>"):t+='<span class="tag-selector">'.concat(e,"</span>")})),this.coloredInput.innerHTML=t}},e.prototype.uncolorText=function(){this.coloredInput&&(this.coloredInput.innerHTML="")},e}(),f=function(){function e(e,t){this.resetLevels=e,this.setLevel=t,this.resetBtn=document.querySelector(".progress__reset")}return e.prototype.bindEvents=function(){this.resetBtn&&this.resetBtn.addEventListener("click",this.reset.bind(this))},e.prototype.reset=function(){this.resetLevels(),this.setLevel(0)},e}();(new(function(){function t(){this.InputHightlight=new v,this.LevelViewer=new u,this.InputEnter=new p(this.LevelViewer,this.InputHightlight),this.Help=new m(this.LevelViewer,this.InputEnter,this.InputHightlight);var e=this.InputEnter.resetLevels.bind(this.InputEnter),t=this.LevelViewer.setCurLevel.bind(this.LevelViewer);this.Reset=new f(e,t)}return t.prototype.build=function(){this.Reset.bindEvents(),this.Help.bindEvents(),document.addEventListener("click",e)},t}())).build()})();